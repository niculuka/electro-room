<div class="container-cart">
  <div class="content-cart">

    <div class="empty" *ngIf="isCartEmpty()">
      <h1>"Cosul este gol"</h1>
      <mat-icon (click)="goBack()">shopping_cart</mat-icon>
      <p>Poti adauga produse prin apasarea butonului 'Adauga in cos' din dreptul fiecarui produs dorit.</p>
      <button class="btn-back" (click)="goBack()">Inapoi</button>
    </div>

    <div class="header" *ngIf="!isCartEmpty()">
      <h1>Cosul meu de cumparaturi:</h1>
      <p>Livrare: 1-5 zile lucratoare</p>
    </div>

    <div class="main" *ngIf="!isCartEmpty()">
      <div class="cart">
        <div class="cart-row" *ngFor="let item of cart.items;">
          <div class="image">
            <a [routerLink]="'/p/'+item.product.department.toLowerCase()
                                  +'/'+item.product.type.toLowerCase()
                                  +'/'+item.product.category.toLowerCase()
                                  +'/'+item.product.linkName">
              <img [src]="item.product.image" [alt]="item.product.name">
            </a>
          </div>
          <div class="description-quantity-price">
            <div class="description">
              <a [routerLink]="'/p/'+item.product.department.toLowerCase()
                                  +'/'+item.product.type.toLowerCase()
                                  +'/'+item.product.category.toLowerCase()
                                  +'/'+item.product.linkName">
                {{item.product.description}}
              </a>
            </div>
            <div class="quantity-price">
              <div class="quantity">
                <mat-icon (click)="decrease(item)">remove</mat-icon>
                <label>{{item.quantity}}</label>
                <mat-icon (click)="increase(item)">add</mat-icon>
              </div>
              <div class="price">
                <p>{{item.price | number: '1.2-2'}} Lei</p>
              </div>
            </div>
          </div>

          <!-- remove - favorites ----------------------------------------------- -->
          <div class="remove-fav">
            <div class="remove">
              <mat-icon (click)="removeFromCart(item)">close</mat-icon>
            </div>
            <div class="fav">
              <mat-icon [ngStyle]="{color: item.product.favorite ? 'rgb(220, 20, 110)' : 'grey'}"
                (click)="handleFavorites(item)">
                {{item.product.favorite ? 'favorite' : 'favorite_border'}}
              </mat-icon>
            </div>
          </div>
        </div>
      </div>

      <div class="sum">
        <div class="title">
          <h1>Sumar comanda</h1>
        </div>
        <div class="subtotal">
          <span>Subtotal: </span>
          <span>{{cart.subtotal | number: '1.2-2'}} lei</span>
        </div>
        <div class="livration">
          <span>Taxa livrare: </span>
          <span *ngIf="cart.subtotal>=200" style="color: rgb(0, 164, 0);"><strong>Gratuit</strong></span>
          <span *ngIf="cart.subtotal<200">{{delivery | number: '1.2-2'}} lei</span>
        </div>
        <hr>
        <div class="total">
          <span>Total: </span>
          <span class="sub">{{(cart.subtotal + order.favoriteDelivery) | number: '1.2-2'}} lei</span>
        </div>
        <div class="proceed">
          <button class="btn-proceed" routerLink="/cart/order">Continua</button>
        </div>
      </div>
    </div>

  </div>
</div>

<app-footer></app-footer>

<!-- <table>
  <td>
    <div class="radio">

      <input type="radio" id="delivery" [value]="delivery" [(ngModel)]="order.favoriteDelivery"
        (change)="deliveryOption()">

      <label for="delivery">Livrare</label>

      <strong>: &nbsp; {{delivery}} lei</strong>

    </div>

    <div class="radio">

      <input type="radio" id="pickUp" [value]="pickUp" [(ngModel)]="order.favoriteDelivery" (change)="deliveryOption()">
      
      <label for="pickUp">Ridicare</label>

      <strong>: &nbsp; {{pickUp}} lei</strong>
      
    </div>
  </td>
</table> -->