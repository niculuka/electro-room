<div class="my-container">
    <form #f="ngForm" (ngSubmit)="f.form.valid && updateProduct()">

        <h1><strong>UPDATE PRODUCT</strong></h1>

        <div class="form-group-dialog">
            <label>Id: {{product.id}}</label>
        </div>

        <div class="form-group-dialog">
            <label for="name">Nume</label>
            <input type="text" name="name" [(ngModel)]="product.name" #name="ngModel" minlength="1" maxlength="100"
                required>
            <div class="alert-container-dialog">
                <div class="alert-dialog" *ngIf="!name.valid && f.submitted">Camp gol!</div>
            </div>
        </div>

        <div class="form-group-dialog">
            <label for="description">Description</label>
            <input type="text" name="description" [(ngModel)]="product.description" #description="ngModel" minlength="1"
                maxlength="200" required>
            <div class="alert-container-dialog">
                <div class="alert-dialog" *ngIf="!description.valid && f.submitted">Camp gol!</div>
            </div>
        </div>

        <div class="form-group-dialog">
            <label for="type">Type</label>
            <select name="type" #typeSelect [(ngModel)]="product.type">
                <option [value]="category.LAPTOP">{{category.LAPTOP}}</option>
                <option [value]="category.LAPTOP_ACCESSORY">{{category.LAPTOP_ACCESSORY}}</option>
            </select>
            <div class="alert-container-dialog">
                <div class="alert-dialog"></div>
            </div>
        </div>

        <div class="form-group-dialog">
            <label for="category">Category</label>
            <select name="category" #categorySelect [(ngModel)]="product.category" (click)="setImageGallery()">
                <option [value]="category.LAPTOP_GAMING">{{category.LAPTOP_GAMING}}</option>
                <option [value]="category.LAPTOP_BUSINESS">{{category.LAPTOP_BUSINESS}}</option>
                <option [value]="category.LAPTOP_ULTRA">{{category.LAPTOP_ULTRA}}</option>
                <option [value]="category.LAPTOP_HOME">{{category.LAPTOP_HOME}}</option>
                <option [value]="category.LAPTOP_BAG">{{category.LAPTOP_BAG}}</option>
                <option [value]="category.LAPTOP_CHARGER">{{category.LAPTOP_CHARGER}}</option>
                <option [value]="category.EXTERNAL_BATTERY">{{category.EXTERNAL_BATTERY}}</option>
                <option [value]="category.RAM_MEMORY">{{category.RAM_MEMORY}}</option>
                <option [value]="category.PC_GAMING">{{category.PC_GAMING}}</option>
                <option [value]="category.ALL_IN_ONE">{{category.ALL_IN_ONE}}</option>
                <option [value]="category.MONITOR_PRO">{{category.MONITOR_PRO}}</option>
            </select>
            <div class="alert-container-dialog">
                <div class="alert-dialog"></div>
            </div>
        </div>

        <div class="form-group-dialog">
            <label for="subcategory">Subcategory</label>
            <select name="subcategory" #subcategorySelect [(ngModel)]="product.subcategory">
                <option [value]="category.LAPTOP_GAMING">{{category.LAPTOP_GAMING}}</option>
                <option [value]="category.LAPTOP_BUSINESS">{{category.LAPTOP_BUSINESS}}</option>
                <option [value]="category.LAPTOP_ULTRA">{{category.LAPTOP_ULTRA}}</option>
                <option [value]="category.LAPTOP_HOME">{{category.LAPTOP_HOME}}</option>
                <option [value]="category.BRIEFCASE">{{category.BRIEFCASE}}</option>
                <option [value]="category.SLEEVE">{{category.SLEEVE}}</option>
                <option [value]="category.BACKPACK">{{category.BACKPACK}}</option>
                <option [value]="category.CAR">{{category.CAR}}</option>
                <option [value]="category.PLUG_IN">{{category.PLUG_IN}}</option>
                <option [value]="category.HDD">{{category.HDD}}</option>
                <option [value]="category.SSD">{{category.SSD}}</option>
                <option [value]="category.DDR3">{{category.DDR3}}</option>
                <option [value]="category.DDR4">{{category.DDR4}}</option>
                <option [value]="category.DDR5">{{category.DDR5}}</option>
                <option [value]="category.MONITORS_FLAT">{{category.MONITORS_FLAT}}</option>
                <option [value]="category.MONITORS_CURVED">{{category.MONITORS_CURVED}}</option>
            </select>
            <div class="alert-container-dialog">
                <div class="alert-dialog"></div>
            </div>
        </div>

        <div class="form-group-dialog">
            <label for="brand">Brand</label>
            <select name="brand" #brandSelect [(ngModel)]="product.brand">
                <option [value]="category.ACER">{{category.ACER}}</option>
                <option [value]="category.ADATA">{{category.ADATA}}</option>
                <option [value]="category.ALLVIEW">{{category.ALLVIEW}}</option>
                <option [value]="category.AMD">{{category.AMD}}</option>
                <option [value]="category.APPLE">{{category.APPLE}}</option>
                <option [value]="category.ASUS">{{category.ASUS}}</option>
                <option [value]="category.DELL">{{category.DELL}}</option>
                <option [value]="category.HAMA">{{category.HAMA}}</option>
                <option [value]="category.HP">{{category.HP}}</option>
                <option [value]="category.INTEL">{{category.INTEL}}</option>
                <option [value]="category.IPHONE">{{category.IPHONE}}</option>
                <option [value]="category.LENOVO">{{category.LENOVO}}</option>
                <option [value]="category.KINGSTON">{{category.KINGSTON}}</option>
                <option [value]="category.MYRIA">{{category.MYRIA}}</option>
                <option [value]="category.MSI">{{category.MSI}}</option>
                <option [value]="category.PHILIPS">{{category.PHILIPS}}</option>
                <option [value]="category.PROMATE">{{category.PROMATE}}</option>
                <option [value]="category.RIVACASE">{{category.RIVACASE}}</option>
                <option [value]="category.SAMSONITE">{{category.SAMSONITE}}</option>
                <option [value]="category.SAMSUNG">{{category.SAMSUNG}}</option>
                <option [value]="category.SANDISK">{{category.SANDISK}}</option>
                <option [value]="category.SEAGATE">{{category.SEAGATE}}</option>
                <option [value]="category.TUMI">{{category.TUMI}}</option>
                <option [value]="category.WD">{{category.WD}}</option>
                <option [value]="category.XTORM">{{category.XTORM}}</option>
            </select>
            <div class="alert-container-dialog">
                <div class="alert-dialog"></div>
            </div>
        </div>

        <div class="form-group-dialog">
            <li class="dropdown">
                <label for="image">Image: </label>

                <!-- SELECT image -->
                <div class="select-line" (click)="toggleDropdownMenu()">
                    <input type="text" name="src" [(ngModel)]="product.image">
                    <mat-icon>expand_more</mat-icon>
                </div>

                <!-- VIEW gallery -->
                <div class="dropdown-menu" [style]="isDropdownMenuOpen">
                    <div class="list-option" *ngFor="let image of productImages;" (click)="getImage(image)">
                        <img [src]="image.image" [alt]="image.alt">
                        <span>{{image.alt}}</span>
                    </div>
                </div>
            </li>

            <!-- DISPLAY image -->
            <div class="image-display">
                <img class="image" [src]="product.image" [alt]="product.image">
            </div>

            <!--  -->
            <div class="alert-container-dialog">
                <div class="alert-dialog"></div>
            </div>
        </div>

        <div class="form-group-dialog">
            <label for="available">Available</label>
            <select name="available" #availableSelect [(ngModel)]="product.available">
                <option [value]="category.STOCK">{{category.STOCK}}</option>
                <option [value]="category.DEPOSIT">{{category.DEPOSIT}}</option>
            </select>
            <div class="alert-container-dialog">
                <div class="alert-dialog"></div>
            </div>
        </div>

        <div class="form-group-dialog">
            <label for="badge">Badge</label>
            <select name="badge" #alertSelect [(ngModel)]="product.badge">
                <option [value]="category.TOP_FAVORITE">{{category.TOP_FAVORITE}}</option>
                <option [value]="category.SUPER_PRICE">{{category.SUPER_PRICE}}</option>
            </select>
            <div class="alert-container-dialog">
                <div class="alert-dialog"></div>
            </div>
        </div>

        <div class="form-group-dialog">
            <label for="price">Price</label>
            <input type="number" name="price" [(ngModel)]="product.price" #price="ngModel" min="0.1" max="1000000"
                required>
            <div class="alert-container-dialog">
                <div class="alert-dialog" *ngIf="!price.valid && f.submitted">Valuare: 1 - 1.000.000!</div>
            </div>
        </div>



        <div class="form-group-dialog">

            <label>Descriere</label>

            <div class="descriptions" *ngFor="let description of product.descriptions">

                <h1></h1>

                <label>Id: {{description.id}}</label>

                <input type="text" [name]="description.title" [(ngModel)]="description.title" maxlength="200">

                <textarea [name]="description.text" [(ngModel)]="description.text" maxlength="1000">
                </textarea>



                <input type="text" [name]="description.image"  [(ngModel)]="description.image">


                <div class="image-display">
                    <img class="image" [src]="description.image">
                </div>

                <label>product_id_fk: {{description.product_id_fk}}</label>


            </div>

            <!-- <mat-icon style="background: yellowgreen;" (click)="addDescription()">add</mat-icon> -->

        </div>



        

        <div class="form-group-dialog">
            <button class="btn-submit" type="submit">Submit</button>
        </div>

    </form>
</div>